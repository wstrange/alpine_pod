class: EventRegistration
table: event_registrations
fields:
  # user: module:serverpod_auth_core:AuthUser?, relation(onDelete=Cascade)
  member: Member?, relation(name=member_registrations)
  event: Event?, relation(name=event_registrations)
  registrationStatus: RegistrationStatus
  registrationDate: DateTime
  carPoolPreference: String? # drive, ride, none, number of passengers,
  additionalGuests: int, default=0
  waiverAccepted: bool
  participantNotes: String?
  # Internal management fields

  # do we really need this?  Could just go by the date
  waitlistPosition: int?
  waitlistedAt: DateTime?
  paymentStatus: String, default='N/A' # pending, completed, refunded
  paymentAmount: double, default=0.0
  modifiedAt: DateTime
  noShow: bool, default=false
indexes:
  user_event_idx:
    fields: memberId, eventId
    unique: true
  event_status_idx:
    fields: eventId, registrationStatus
  # waitlist_idx:
  #   fields: eventId, waitlistPosition